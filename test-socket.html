<!DOCTYPE html>
<html>
  <head>
    <title>Test Socket.IO</title>
    <script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
  </head>
  <body>
    <h1>Test Socket.IO Connection</h1>
    <div id="logs"></div>
    <button onclick="testCreate()">Test Create Room</button>

    <script>
      const logs = document.getElementById('logs');

      function log(message) {
        logs.innerHTML += `<p>${new Date().toLocaleTimeString()}: ${message}</p>`;
        console.log(message);
      }

      // Connexion au serveur
      const socket = io('http://localhost:8080');

      socket.on('connect', () => {
        log('‚úÖ Connect√© ! Socket ID: ' + socket.id);
      });

      socket.on('connect_error', (error) => {
        log('‚ùå Erreur de connexion: ' + error.message);
      });

      socket.on('disconnect', (reason) => {
        log('üîå D√©connect√©: ' + reason);
      });

      // √âcouter les r√©ponses
      socket.on('roomCreated', (data) => {
        log('üéØ Room cr√©√©e: ' + JSON.stringify(data));
      });

      socket.on('error', (data) => {
        log('‚ö†Ô∏è Erreur: ' + JSON.stringify(data));
      });

      function testCreate() {
        log('üì§ Envoi √©v√©nement create...');
        socket.emit('create', {
          name: 'test-room-html',
          userId: 'user-html-123',
          category: 'animals',
        });
      }
    </script>
  </body>
</html>
